<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.iu.s1.member.MemberDAO">
  
  <insert id="setMemberJoin" parameterType="MemberDTO">
  INSERT INTO MEMBER(ID, PW, MEMBERNAME, MEMBERPHONE, EMAIL)
  VALUES(#{id}, #{pw}, #{memberName}, #{memberPhone}, #{email})
  </insert>
  
  <insert id="setMemberRoleAdd" parameterType="MemberDTO">
  	INSERT INTO MEMBERROLE (ID,ROLENUM)
  	VALUES (#{id}, (SELECT ROLENUM FROM ROLE WHERE ROLENAME ='MEMBER'))
  </insert>
  
  <select id="setMemberLogin" parameterType="MemberDTO">
  	SELECT * FROM MEMBER WHERE ID=#{id} AND PW=#{pw}
  </select>
  
   <select id="setMemberPage" parameterType="MemberDTO" resultType="MemberDTO">
   		SELECT * FROM MEMBER
     </select>
  <select id="setMemberUpdate" parameterType="MemberDTO">
  	UPADTE MEMBER SET MEMBERNAME=#{memberName}, MEMBERPHONE=#{memberPhone}, EMAIL=#{email}
  	WHERE ID=#{id}
  </select>
  
  
  
  </mapper>